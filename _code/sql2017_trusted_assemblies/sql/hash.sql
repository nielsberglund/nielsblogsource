

USE [DeployDB]
GO

/****** Object:  SqlAssembly [Sql2k17TrustedAsm]    Script Date: 2017-07-22 21:04:12 ******/
CREATE ASSEMBLY [Sql2k17TrustedAsm]
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300A57873590000000000000000E00022200B013000000C000000060000000000000A2A0000002000000040000000000010002000000002000004000000000000000600000000000000008000000002000000000000030060850000100000100000000010000010000000000000100000000000000000000000B82900004F00000000400000C803000000000000000000000000000000000000006000000C000000802800001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000100A000000200000000C000000020000000000000000000000000000200000602E72737263000000C80300000040000000040000000E0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001200000000000000000000000000004000004200000000000000000000000000000000EC290000000000004800000002000500C0200000C00700000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120203582A00000013300300300000000100001173050000060A06027D0100000406037D02000004281000000A06FE0606000006731100000A6F0100002B6F1300000A2A3E0203581F645A281400000A0203582A1E02281500000A2A4A027B01000004027B0200000428030000062A0042534A4201000100000000000C00000076342E302E33303331390000000005006C000000A0020000237E00000C0300004403000023537472696E67730000000050060000040000002355530054060000100000002347554944000000640600005C01000023426C6F62000000000000000200000157150208090A000000FA013300160000010000001600000003000000020000000600000006000000150000000F00000001000000020000000100000001000000010000000100000000002A0201000000000006006301BD020600D001BD02060097008B020F00DD0200000600BF0048020600460148020600270148020600B701480206008301480206009C0148020600D60048020600AB009E02060089009E0206000A0148020600F1000B0206000D03410206006E00BD0206002502EC0206003603EC0206003400410206003B00EC0206006700EE01000000005500000000000100010001001000030342004100010001000301100001000000410001000500060028035D00060040035D00502000000000960060026000010058200000000096006D02600003009420000000009100FF0160000500A420000000008618850206000700A420000000008618850206000700AC20000000008300160066000700000001002803000002004003000001002803000002004003000001002803000002004003090085020100110085020600190085020A0029008502100031008502100039008502100041008502100049008502100051008502100059008502100061008502150069008502100071008502100079008502100089008502060091002A031F000C0085022A0099001F033000140014034A00B1005A024F008100850206002E000B006A002E00130073002E001B0092002E0023009B002E002B00B3002E003300B3002E003B00B3002E0043009B002E004B00B9002E005300B3002E005B00B3002E006300D1002E006B00FB002E007300080163007B0056011A00240044000480000001000000000000000000000000004200000004000000000000000000000054005E0000000000030002002500400000000000003C3E635F5F446973706C6179436C617373315F30003C666E5F636C725F4C6F6E6752756E6E696E6741646465723E625F5F300046756E636031005461736B60310053716C326B31375472757374656441736D31003C4D6F64756C653E006D73636F726C69620054687265616400436F6D70696C657247656E65726174656441747472696275746500477569644174747269627574650044656275676761626C6541747472696275746500436F6D56697369626C6541747472696275746500417373656D626C795469746C6541747472696275746500417373656D626C7954726164656D61726B417474726962757465005461726765744672616D65776F726B41747472696275746500417373656D626C7946696C6556657273696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C794465736372697074696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C79436F6D70616E794174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650053797374656D2E546872656164696E67004C6F6E6752756E6E696E670053797374656D2E52756E74696D652E56657273696F6E696E67005461736B0053716C326B31375472757374656441736D312E646C6C0053797374656D0053797374656D2E5265666C656374696F6E00536C65657000666E5F636C725F416464657200666E5F636C725F4C6F6E6752756E6E696E674164646572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E546872656164696E672E5461736B730046756E6374696F6E73004F626A656374006765745F526573756C740053746172744E65770078006765745F466163746F7279005461736B466163746F7279000000000000004B3D651A2BD2194EAC8057FCD9DEF01F00042001010803200001052001011111042001010E0420010102040701120C040000124D051512510108052002011C180F300101151255011E00151251011E00030A01080515125501080420001300040001010808B77A5C561934E089020608050002080808032000080801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000200000000001701001253716C326B31375472757374656441736D31000005010000000017010012436F7079726967687420C2A920203230313700002901002434643136356361632D373566352D343732372D623332302D35656533623836326432653800000C010007312E302E302E3000004D01001C2E4E45544672616D65776F726B2C56657273696F6E3D76342E352E320100540E144672616D65776F726B446973706C61794E616D65142E4E4554204672616D65776F726B20342E352E3204010000000000000000A578735900000000020000001C0100009C2800009C0A000052534453CC7EA79E9032B54BAF048086BA98602601000000573A5C6E69656C73622D776F726B5C4769744875622D5265706F735C6E69656C73626572676C756E642E636F6D5C5F636F64655C73716C323031375F747275737465645F617373656D626C6965735C63735C53716C326B31375472757374656441736D5C53716C326B31375472757374656441736D315C6F626A5C52656C656173655C53716C326B31375472757374656441736D312E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E02900000000000000000000FA290000002000000000000000000000000000000000000000000000EC290000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001001000000018000080000000000000000000000000000001000100000030000080000000000000000000000000000001000000000048000000584000006C03000000000000000000006C0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000000000000000100000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004CC020000010053007400720069006E006700460069006C00650049006E0066006F000000A802000001003000300030003000300034006200300000001A000100010043006F006D006D0065006E007400730000000000000022000100010043006F006D00700061006E0079004E0061006D00650000000000000000004E0013000100460069006C0065004400650073006300720069007000740069006F006E0000000000530071006C0032006B00310037005400720075007300740065006400410073006D00310000000000300008000100460069006C006500560065007200730069006F006E000000000031002E0030002E0030002E00300000004E001700010049006E007400650072006E0061006C004E0061006D0065000000530071006C0032006B00310037005400720075007300740065006400410073006D0031002E0064006C006C00000000004800120001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020002000320030003100370000002A00010001004C006500670061006C00540072006100640065006D00610072006B00730000000000000000005600170001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000530071006C0032006B00310037005400720075007300740065006400410073006D0031002E0064006C006C0000000000460013000100500072006F0064007500630074004E0061006D00650000000000530071006C0032006B00310037005400720075007300740065006400410073006D00310000000000340008000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E0030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C0000000C3A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
WITH PERMISSION_SET = SAFE
GO

SELECT clr_name FROM sys.assemblies
WHERE name = 'Sql2k17TrustedAsm'


USE master;
GO
DECLARE @clrName nvarchar(4000) = 'sql2k17trustedasm1, version=0.0.0.0, culture=neutral, publickeytoken=null, processorarchitecture=msil'
DECLARE @asmBin varbinary(max) = 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300A57873590000000000000000E00022200B013000000C000000060000000000000A2A0000002000000040000000000010002000000002000004000000000000000600000000000000008000000002000000000000030060850000100000100000000010000010000000000000100000000000000000000000B82900004F00000000400000C803000000000000000000000000000000000000006000000C000000802800001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000100A000000200000000C000000020000000000000000000000000000200000602E72737263000000C80300000040000000040000000E0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001200000000000000000000000000004000004200000000000000000000000000000000EC290000000000004800000002000500C0200000C00700000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120203582A00000013300300300000000100001173050000060A06027D0100000406037D02000004281000000A06FE0606000006731100000A6F0100002B6F1300000A2A3E0203581F645A281400000A0203582A1E02281500000A2A4A027B01000004027B0200000428030000062A0042534A4201000100000000000C00000076342E302E33303331390000000005006C000000A0020000237E00000C0300004403000023537472696E67730000000050060000040000002355530054060000100000002347554944000000640600005C01000023426C6F62000000000000000200000157150208090A000000FA013300160000010000001600000003000000020000000600000006000000150000000F00000001000000020000000100000001000000010000000100000000002A0201000000000006006301BD020600D001BD02060097008B020F00DD0200000600BF0048020600460148020600270148020600B701480206008301480206009C0148020600D60048020600AB009E02060089009E0206000A0148020600F1000B0206000D03410206006E00BD0206002502EC0206003603EC0206003400410206003B00EC0206006700EE01000000005500000000000100010001001000030342004100010001000301100001000000410001000500060028035D00060040035D00502000000000960060026000010058200000000096006D02600003009420000000009100FF0160000500A420000000008618850206000700A420000000008618850206000700AC20000000008300160066000700000001002803000002004003000001002803000002004003000001002803000002004003090085020100110085020600190085020A0029008502100031008502100039008502100041008502100049008502100051008502100059008502100061008502150069008502100071008502100079008502100089008502060091002A031F000C0085022A0099001F033000140014034A00B1005A024F008100850206002E000B006A002E00130073002E001B0092002E0023009B002E002B00B3002E003300B3002E003B00B3002E0043009B002E004B00B9002E005300B3002E005B00B3002E006300D1002E006B00FB002E007300080163007B0056011A00240044000480000001000000000000000000000000004200000004000000000000000000000054005E0000000000030002002500400000000000003C3E635F5F446973706C6179436C617373315F30003C666E5F636C725F4C6F6E6752756E6E696E6741646465723E625F5F300046756E636031005461736B60310053716C326B31375472757374656441736D31003C4D6F64756C653E006D73636F726C69620054687265616400436F6D70696C657247656E65726174656441747472696275746500477569644174747269627574650044656275676761626C6541747472696275746500436F6D56697369626C6541747472696275746500417373656D626C795469746C6541747472696275746500417373656D626C7954726164656D61726B417474726962757465005461726765744672616D65776F726B41747472696275746500417373656D626C7946696C6556657273696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C794465736372697074696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C79436F6D70616E794174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650053797374656D2E546872656164696E67004C6F6E6752756E6E696E670053797374656D2E52756E74696D652E56657273696F6E696E67005461736B0053716C326B31375472757374656441736D312E646C6C0053797374656D0053797374656D2E5265666C656374696F6E00536C65657000666E5F636C725F416464657200666E5F636C725F4C6F6E6752756E6E696E674164646572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E546872656164696E672E5461736B730046756E6374696F6E73004F626A656374006765745F526573756C740053746172744E65770078006765745F466163746F7279005461736B466163746F7279000000000000004B3D651A2BD2194EAC8057FCD9DEF01F00042001010803200001052001011111042001010E0420010102040701120C040000124D051512510108052002011C180F300101151255011E00151251011E00030A01080515125501080420001300040001010808B77A5C561934E089020608050002080808032000080801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000200000000001701001253716C326B31375472757374656441736D31000005010000000017010012436F7079726967687420C2A920203230313700002901002434643136356361632D373566352D343732372D623332302D35656533623836326432653800000C010007312E302E302E3000004D01001C2E4E45544672616D65776F726B2C56657273696F6E3D76342E352E320100540E144672616D65776F726B446973706C61794E616D65142E4E4554204672616D65776F726B20342E352E3204010000000000000000A578735900000000020000001C0100009C2800009C0A000052534453CC7EA79E9032B54BAF048086BA98602601000000573A5C6E69656C73622D776F726B5C4769744875622D5265706F735C6E69656C73626572676C756E642E636F6D5C5F636F64655C73716C323031375F747275737465645F617373656D626C6965735C63735C53716C326B31375472757374656441736D5C53716C326B31375472757374656441736D315C6F626A5C52656C656173655C53716C326B31375472757374656441736D312E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E02900000000000000000000FA290000002000000000000000000000000000000000000000000000EC290000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001001000000018000080000000000000000000000000000001000100000030000080000000000000000000000000000001000000000048000000584000006C03000000000000000000006C0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000000000000000100000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004CC020000010053007400720069006E006700460069006C00650049006E0066006F000000A802000001003000300030003000300034006200300000001A000100010043006F006D006D0065006E007400730000000000000022000100010043006F006D00700061006E0079004E0061006D00650000000000000000004E0013000100460069006C0065004400650073006300720069007000740069006F006E0000000000530071006C0032006B00310037005400720075007300740065006400410073006D00310000000000300008000100460069006C006500560065007200730069006F006E000000000031002E0030002E0030002E00300000004E001700010049006E007400650072006E0061006C004E0061006D0065000000530071006C0032006B00310037005400720075007300740065006400410073006D0031002E0064006C006C00000000004800120001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020002000320030003100370000002A00010001004C006500670061006C00540072006100640065006D00610072006B00730000000000000000005600170001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000530071006C0032006B00310037005400720075007300740065006400410073006D0031002E0064006C006C0000000000460013000100500072006F0064007500630074004E0061006D00650000000000530071006C0032006B00310037005400720075007300740065006400410073006D00310000000000340008000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E0030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C0000000C3A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
DECLARE @hash varbinary(64);

SELECT @hash = HASHBYTES('SHA2_512', @asmBin);

EXEC sys.sp_add_trusted_assembly @hash = @hash,
                                 @description = @clrName;

             

EXEC sys.sp_drop_trusted_assembly @hash = 0xCDFEFD60682FBB0182E1D36329C6D9D2E4CC8A17C08E8D1FCB874D0402E89E1CD89EC1742722280FCCBF0E1E95ADF21FAFFA8C1292BFA1E3290841F36113708E;

EXEC sys.sp_drop_trusted_assembly @hash = 0xCDFEFD60682FBB0182...;


SELECT * FROM sys.trusted_assemblies



