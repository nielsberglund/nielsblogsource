

* In the last few posts I have used *WinDbg preview* a my debugger, but in this post I am reverting back to *WinDbg* "classic", as there are some things I cannot do in *WinDng preview*. If you need help with setting it up, that is covered in [Internals - I][si1].



sqllang!CUDXR_ExternalScript::PullRow -once

sqllang!CUDXR_ExternalScript::ProcessResultRows

sqllang!CServerCargoContext::ReadSchemaFromPackets


Tracing sqllang!CUDXR_ExternalScript::ProcessResultRows to return address 00007ffa`61e9b874
   11     0 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
   38     0 [  1]   sqllang!CServerCargoContext::ReadOneRow
   42     0 [  2]     sqldk!CMemProc::Alloc
   51    42 [  1]   sqllang!CServerCargoContext::ReadOneRow
   19     0 [  2]     sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   70    61 [  1]   sqllang!CServerCargoContext::ReadOneRow
   28     0 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  150     0 [  3]       sqllang!CSQLSatelliteCommunication::CSQLSatelliteCommunication
   36   150 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   49     0 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   68    40 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   99    80 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  107    96 [  3]       sqllang!CSQLSatelliteCommunication::Init
    1     0 [  4]         sqllang!memcpy
   51     0 [  4]         MSVCR120!memcpy
  118   148 [  3]       sqllang!CSQLSatelliteCommunication::Init
   19     0 [  4]         sqllang!GetTypeSizeInBytes
  138   167 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  143   183 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<_SQLSatellite_ColumnSchema>::operator=
  153   199 [  3]       sqllang!CSQLSatelliteCommunication::Init
    6     0 [  4]         sqllang!_security_check_cookie
  163   205 [  3]       sqllang!CSQLSatelliteCommunication::Init
   45   518 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   40     0 [  3]       sqllang!CSQL_RowChunk::FreePackets
   53   558 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   73   632 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   19     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   80   651 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   17   198 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   63     0 [  4]         sqllang!CSQLSatelliteMessageDataChunk::ReadPayloadHeader
   25   261 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
  125   937 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  131   960 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  147   976 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
  164  1050 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    7     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
  171  1057 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    4     0 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   32   198 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
  210  1287 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  216  1310 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  224  1326 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   50     0 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  4]         sqllang!SNIMemRegion::Push
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   39     2 [  4]         sqllang!SNIMemRegion::Push
   60    41 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
  236  1427 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   20     0 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   20     0 [  4]         sqllang!SNIPacketAllocateEx2
    9     0 [  5]           sqllang!SNIMemRegion::GetBlockSize
   45     9 [  4]         sqllang!SNIPacketAllocateEx2
    8     0 [  5]           sqllang!SNIMemRegion::Pop
   11     0 [  6]             sqllang!MemoryClerkInternal::GetPoolId
   13    11 [  5]           sqllang!SNIMemRegion::Pop
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   41    13 [  5]           sqllang!SNIMemRegion::Pop
   95    63 [  4]         sqllang!SNIPacketAllocateEx2
   49   158 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   14     0 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  5]           sqllang!_security_check_cookie
   17     6 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
   67   181 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   18     0 [  4]         MSVCR120!memcpy_s
    9     0 [  5]           MSVCR120!memcpy
    4     0 [  5]           MSVCR120!MoveSmall
   26    13 [  4]         MSVCR120!memcpy_s
   69   220 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   24     0 [  4]         sqllang!GetSatelliteSessionContext
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   31    82 [  4]         sqllang!GetSatelliteSessionContext
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   35    94 [  4]         sqllang!GetSatelliteSessionContext
   79   349 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
    9     0 [  4]         sqllang!CSQLSatelliteConnection::PostWriteRequest
   23     0 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   13     0 [  5]           sqllang!SOS_RWLock::GetLock
    1     0 [  6]             KERNEL32!TlsGetValueStub
    7     0 [  6]             KERNEL32!TlsGetValue
   33     8 [  5]           sqllang!SOS_RWLock::GetLock
   56     0 [  6]             sqldk!SOS_RWLock::GetLongWait
   45    64 [  5]           sqllang!SOS_RWLock::GetLock
   30   109 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   26     0 [  5]           sqllang!SNIWriteAsync
   36     0 [  6]             sqllang!Tcp::WriteAsync
   30     0 [  7]               sqllang!SNI::detail::Transport::PrepareForAsyncCall
   46    30 [  6]             sqllang!Tcp::WriteAsync
   23     0 [  7]               WS2_32!WSASend
    1     0 [  8]                 KERNEL32!TlsGetValueStub
    7     0 [  8]                 KERNEL32!TlsGetValue
   90     8 [  7]               WS2_32!WSASend
    1     0 [  8]                 WS2_32!guard_dispatch_icall_nop
   27     0 [  8]                 mswsock!WSPSend
    1     0 [  9]                   KERNEL32!TlsGetValueStub
    7     0 [  9]                   KERNEL32!TlsGetValue
   78     8 [  8]                 mswsock!WSPSend
    6     0 [  9]                   ntdll!NtDeviceIoControlFile
>> More than one level popped 8 -> 8
  115    14 [  8]                 mswsock!WSPSend
  106   138 [  7]               WS2_32!WSASend
   73   274 [  6]             sqllang!Tcp::WriteAsync
   34   347 [  5]           sqllang!SNIWriteAsync
   11     0 [  6]             sqllang!SNITime::GetTick
    1     0 [  7]               KERNEL32!QueryPerformanceCounterStub
   20     0 [  7]               ntdll!RtlQueryPerformanceCounter
   16    21 [  6]             sqllang!SNITime::GetTick
   39   384 [  5]           sqllang!SNIWriteAsync
   23     0 [  6]             sqllang!SNI_Conn::ReleaseUnderForceCloseLock
   50   407 [  5]           sqllang!SNIWriteAsync
   36   566 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   68     0 [  5]           sqldk!SOS_RWLock::ReleaseLock
   57     0 [  6]             sqldk!EventInternal<SuspendQueueSLock>::Signal
   11     0 [  7]               sqldk!SOS_Scheduler::ResumeNoCuzz
    1     0 [  8]                 KERNEL32!QueryPerformanceCounterStub
   20     0 [  8]                 ntdll!RtlQueryPerformanceCounter
   19    21 [  7]               sqldk!SOS_Scheduler::ResumeNoCuzz
   47     0 [  8]                 sqldk!SOS_Scheduler::PrepareWorkerForResume
    1     0 [  9]                   KERNEL32!TlsGetValueStub
    7     0 [  9]                   KERNEL32!TlsGetValue
   74     8 [  8]                 sqldk!SOS_Scheduler::PrepareWorkerForResume
   17     0 [  9]                   sqldk!SOS_RingBuffer::StoreRecordInternalWithoutEvent
    1     0 [ 10]                     KERNEL32!QueryPerformanceCounterStub
   20     0 [ 10]                     ntdll!RtlQueryPerformanceCounter
   37    21 [  9]                   sqldk!SOS_RingBuffer::StoreRecordInternalWithoutEvent
    1     0 [ 10]                     sqldk!memcpy
  101     0 [ 10]                     MSVCR120!memcpy
   47   123 [  9]                   sqldk!SOS_RingBuffer::StoreRecordInternalWithoutEvent
   82   178 [  8]                 sqldk!SOS_Scheduler::PrepareWorkerForResume
   26   281 [  7]               sqldk!SOS_Scheduler::ResumeNoCuzz
    1     0 [  8]                 KERNEL32!TlsGetValueStub
    7     0 [  8]                 KERNEL32!TlsGetValue
   29   289 [  7]               sqldk!SOS_Scheduler::ResumeNoCuzz
    1     0 [  8]                 KERNEL32!SetEvent
    3     0 [  8]                 KERNELBASE!SetEvent
    6     0 [  9]                   ntdll!NtSetEvent
>> More than one level popped 8 -> 8
    8     6 [  8]                 KERNELBASE!SetEvent
   36   304 [  7]               sqldk!SOS_Scheduler::ResumeNoCuzz
   61   340 [  6]             sqldk!EventInternal<SuspendQueueSLock>::Signal
   76   401 [  5]           sqldk!SOS_RWLock::ReleaseLock
   43  1043 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   22     0 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
    9     0 [  6]             sqllang!EventInternal<SuspendQueueSLock>::SignalAll
    2     0 [  7]               sqldk!SystemThread::GetCurrentId
   28     2 [  6]             sqllang!EventInternal<SuspendQueueSLock>::SignalAll
    6     0 [  7]               sqldk!SOS_Scheduler::ResumeBulk
   32     8 [  6]             sqllang!EventInternal<SuspendQueueSLock>::SignalAll
   26    40 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   50     0 [  6]             sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  7]               sqllang!SNIMemRegion::Push
    2     0 [  8]                 sqldk!SystemThread::GetCurrentId
   39     2 [  7]               sqllang!SNIMemRegion::Push
   60    41 [  6]             sqllang!CSQLSatelliteConnection::FreePackets
   32   141 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   10     0 [  6]             sqllang!RefCountImpl<CSQLSatelliteConnection>::Release
   38   151 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   53  1232 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   85  1643 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   10     0 [  4]         sqllang!CSQLSatelliteConnection::WaitWriteDone
   97  1653 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
  239  3177 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    8     0 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
   10     0 [  4]         sqllang!CSQLSatelliteMessageArgument::~CSQLSatelliteMessageArgument
   52    10 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
  243  3239 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!_security_check_cookie
  253  3245 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   92  3559 [  1]   sqllang!CServerCargoContext::ReadOneRow
    6     0 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   27     0 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  5]           sqllang!_security_check_cookie
   17     6 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  4]         sqllang!CSatelliteHub::LocateSatellite
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   46     2 [  4]         sqllang!CSatelliteHub::LocateSatellite
    9     0 [  5]           sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  4]         sqllang!CSatelliteHub::LocateSatellite
   60   105 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  4]         sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  4]         sqllang!_security_check_cookie
   75   123 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   17   198 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   63     0 [  3]       sqllang!CSQLSatelliteMessageDataChunk::ReadPayloadHeader
   25   261 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
  111  3845 [  1]   sqllang!CServerCargoContext::ReadOneRow
   54     0 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   21     0 [  3]       sqllang!SQLDataReaderTargetRow::TargetBufferPtr
   83    21 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   18     0 [  3]       MSVCR120!memcpy_s
    9     0 [  4]         MSVCR120!memcpy
    4     0 [  4]         MSVCR120!MoveSmall
   26    13 [  3]       MSVCR120!memcpy_s
  126    60 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
  163  4031 [  1]   sqllang!CServerCargoContext::ReadOneRow
   25  4194 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    1     0 [  1]   KERNEL32!TlsGetValueStub
    7     0 [  1]   KERNEL32!TlsGetValue
   37  4202 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    8     0 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   26     0 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::CCols
   30     2 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::RgCommonMD
   34     4 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::FStartedTokenStream
   40     6 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::SetStartedTokenStream
   44     8 [  2]     sqllang!CTds74::SendRowImpl
    9     0 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
    1     0 [  4]         KERNEL32!TlsGetValueStub
    7     0 [  4]         KERNEL32!TlsGetValue
   25     8 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
   48    41 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   52    44 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   57    47 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
   77    49 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CXVariantBase::FIsNull
   82    52 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CXVariant::PbShallowBufPtr
   88    54 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   92    57 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   97    60 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  100    62 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
  104    65 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
  110    68 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  118    70 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!`anonymous namespace'::MarkEndOfTokenStream
  122    72 [  2]     sqllang!CTds74::SendRowImpl
    5     0 [  3]       sqllang!Worker::TaskAutoOnFlags::~TaskAutoOnFlags
  125    77 [  2]     sqllang!CTds74::SendRowImpl
    6     0 [  3]       sqllang!_security_check_cookie
  135    83 [  2]     sqllang!CTds74::SendRowImpl
   12   218 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
    1     0 [  2]     KERNEL32!TlsGetValueStub
    7     0 [  2]     KERNEL32!TlsGetValue
   21   226 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   45  4449 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows

   Tracing sqllang!CUDXR_ExternalScript::ProcessResultRows to return address 00007ffa`61e9b874
   11     0 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
   38     0 [  1]   sqllang!CServerCargoContext::ReadOneRow
   40     0 [  2]     sqldk!CMemProc::Alloc
   51    40 [  1]   sqllang!CServerCargoContext::ReadOneRow
   19     0 [  2]     sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   74    59 [  1]   sqllang!CServerCargoContext::ReadOneRow
   54     0 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   21     0 [  3]       sqllang!SQLDataReaderTargetRow::TargetBufferPtr
   83    21 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   18     0 [  3]       MSVCR120!memcpy_s
    9     0 [  4]         MSVCR120!memcpy
    4     0 [  4]         MSVCR120!MoveSmall
   26    13 [  3]       MSVCR120!memcpy_s
  126    60 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   90   245 [  1]   sqllang!CServerCargoContext::ReadOneRow
   14     0 [  2]     sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  3]       sqllang!_security_check_cookie
   17     6 [  2]     sqllang!CSQLSatelliteMessage::FireXEvent
   96   268 [  1]   sqllang!CServerCargoContext::ReadOneRow
   16     0 [  2]     sqllang!MessageTelemetry::Record
  109   284 [  1]   sqllang!CServerCargoContext::ReadOneRow
   50     0 [  2]     sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  3]       sqllang!SNIMemRegion::Push
    2     0 [  4]         sqldk!SystemThread::GetCurrentId
   38     2 [  3]       sqllang!SNIMemRegion::Push
   60    40 [  2]     sqllang!CSQLSatelliteConnection::FreePackets
  157   384 [  1]   sqllang!CServerCargoContext::ReadOneRow
   25   541 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    1     0 [  1]   KERNEL32!TlsGetValueStub
    7     0 [  1]   KERNEL32!TlsGetValue
   37   549 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    8     0 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   26     0 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::CCols
   30     2 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::RgCommonMD
   34     4 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::FStartedTokenStream
   40     6 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::SetStartedTokenStream
   44     8 [  2]     sqllang!CTds74::SendRowImpl
    9     0 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
    1     0 [  4]         KERNEL32!TlsGetValueStub
    7     0 [  4]         KERNEL32!TlsGetValue
   25     8 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
   48    41 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   52    44 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   57    47 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
   77    49 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CXVariantBase::FIsNull
   82    52 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CXVariant::PbShallowBufPtr
   88    54 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   92    57 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   97    60 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  100    62 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
  104    65 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
  110    68 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  118    70 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!`anonymous namespace'::MarkEndOfTokenStream
  122    72 [  2]     sqllang!CTds74::SendRowImpl
    5     0 [  3]       sqllang!Worker::TaskAutoOnFlags::~TaskAutoOnFlags
  125    77 [  2]     sqllang!CTds74::SendRowImpl
    6     0 [  3]       sqllang!_security_check_cookie
  135    83 [  2]     sqllang!CTds74::SendRowImpl
   12   218 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
    1     0 [  2]     KERNEL32!TlsGetValueStub
    7     0 [  2]     KERNEL32!TlsGetValue
   21   226 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   45   796 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows

Tracing sqllang!CUDXR_ExternalScript::ProcessResultRows to return address 00007ffa`61e9b874
   11     0 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
   38     0 [  1]   sqllang!CServerCargoContext::ReadOneRow
   40     0 [  2]     sqldk!CMemProc::Alloc
   51    40 [  1]   sqllang!CServerCargoContext::ReadOneRow
   19     0 [  2]     sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   72    59 [  1]   sqllang!CServerCargoContext::ReadOneRow
   28     0 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  150     0 [  3]       sqllang!CSQLSatelliteCommunication::CSQLSatelliteCommunication
   36   150 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   49     0 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   68    40 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   99    80 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  107    96 [  3]       sqllang!CSQLSatelliteCommunication::Init
    1     0 [  4]         sqllang!memcpy
   51     0 [  4]         MSVCR120!memcpy
  118   148 [  3]       sqllang!CSQLSatelliteCommunication::Init
   19     0 [  4]         sqllang!GetTypeSizeInBytes
  138   167 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  143   183 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<_SQLSatellite_ColumnSchema>::operator=
  153   199 [  3]       sqllang!CSQLSatelliteCommunication::Init
    6     0 [  4]         sqllang!_security_check_cookie
  163   205 [  3]       sqllang!CSQLSatelliteCommunication::Init
   45   518 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   40     0 [  3]       sqllang!CSQL_RowChunk::FreePackets
   53   558 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   70   632 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    7     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   77   639 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    4     0 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   32   198 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
  117   869 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  123   892 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  131   908 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   50     0 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  4]         sqllang!SNIMemRegion::Push
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   38     2 [  4]         sqllang!SNIMemRegion::Push
   60    40 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
  142  1008 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    8     0 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
   10     0 [  4]         sqllang!CSQLSatelliteMessageArgument::~CSQLSatelliteMessageArgument
   52    10 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
  146  1070 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!_security_check_cookie
  156  1076 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  111  1291 [  1]   sqllang!CServerCargoContext::ReadOneRow
   22  1402 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    7     0 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
    1     0 [  2]     KERNEL32!TlsGetValueStub
    7     0 [  2]     KERNEL32!TlsGetValue
   21     8 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
   48     0 [  2]     sqllang!CTdsConn<0>::EndResultSetImpl
   21     0 [  3]       sqllang!SendDoneWarnings
   52    21 [  2]     sqllang!CTdsConn<0>::EndResultSetImpl
   25    81 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
   27  1508 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows






Tracing sqllang!CUDXR_ExternalScript::ProcessResultRows to return address 00007ffa`61e9b874
   11     0 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
   38     0 [  1]   sqllang!CServerCargoContext::ReadOneRow
   42     0 [  2]     sqldk!CMemProc::Alloc
   51    42 [  1]   sqllang!CServerCargoContext::ReadOneRow
   19     0 [  2]     sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   70    61 [  1]   sqllang!CServerCargoContext::ReadOneRow
   28     0 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  150     0 [  3]       sqllang!CSQLSatelliteCommunication::CSQLSatelliteCommunication
   36   150 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   49     0 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   68    40 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   99    80 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  107    96 [  3]       sqllang!CSQLSatelliteCommunication::Init
    1     0 [  4]         sqllang!memcpy
   51     0 [  4]         MSVCR120!memcpy
  118   148 [  3]       sqllang!CSQLSatelliteCommunication::Init
   19     0 [  4]         sqllang!GetTypeSizeInBytes
  138   167 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  143   183 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<_SQLSatellite_ColumnSchema>::operator=
  153   199 [  3]       sqllang!CSQLSatelliteCommunication::Init
    6     0 [  4]         sqllang!_security_check_cookie
  163   205 [  3]       sqllang!CSQLSatelliteCommunication::Init
   45   518 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   40     0 [  3]       sqllang!CSQL_RowChunk::FreePackets
   53   558 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   73   632 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   19     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   80   651 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   17   198 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   63     0 [  4]         sqllang!CSQLSatelliteMessageDataChunk::ReadPayloadHeader
   25   261 [  3]       sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
  125   937 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  131   960 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  147   976 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
  164  1050 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    7     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
  171  1057 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    4     0 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   32   198 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
  210  1287 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  216  1310 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  224  1326 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   50     0 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  4]         sqllang!SNIMemRegion::Push
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   38     2 [  4]         sqllang!SNIMemRegion::Push
   60    40 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
  236  1426 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   20     0 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   20     0 [  4]         sqllang!SNIPacketAllocateEx2
    9     0 [  5]           sqllang!SNIMemRegion::GetBlockSize
   45     9 [  4]         sqllang!SNIPacketAllocateEx2
    8     0 [  5]           sqllang!SNIMemRegion::Pop
   11     0 [  6]             sqllang!MemoryClerkInternal::GetPoolId
   13    11 [  5]           sqllang!SNIMemRegion::Pop
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   40    13 [  5]           sqllang!SNIMemRegion::Pop
   95    62 [  4]         sqllang!SNIPacketAllocateEx2
   49   157 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   14     0 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  5]           sqllang!_security_check_cookie
   17     6 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
   67   180 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   18     0 [  4]         MSVCR120!memcpy_s
    9     0 [  5]           MSVCR120!memcpy
    4     0 [  5]           MSVCR120!MoveSmall
   26    13 [  4]         MSVCR120!memcpy_s
   69   219 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   24     0 [  4]         sqllang!GetSatelliteSessionContext
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   31    82 [  4]         sqllang!GetSatelliteSessionContext
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   35    94 [  4]         sqllang!GetSatelliteSessionContext
   79   348 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
    9     0 [  4]         sqllang!CSQLSatelliteConnection::PostWriteRequest
   23     0 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   13     0 [  5]           sqllang!SOS_RWLock::GetLock
    1     0 [  6]             KERNEL32!TlsGetValueStub
    7     0 [  6]             KERNEL32!TlsGetValue
   33     8 [  5]           sqllang!SOS_RWLock::GetLock
   56     0 [  6]             sqldk!SOS_RWLock::GetLongWait
   45    64 [  5]           sqllang!SOS_RWLock::GetLock
   30   109 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   26     0 [  5]           sqllang!SNIWriteAsync
   73     0 [  6]             sqllang!Tcp::WriteAsync
   34    73 [  5]           sqllang!SNIWriteAsync
   16     0 [  6]             sqllang!SNITime::GetTick
   39    89 [  5]           sqllang!SNIWriteAsync
   23     0 [  6]             sqllang!SNI_Conn::ReleaseUnderForceCloseLock
   50   112 [  5]           sqllang!SNIWriteAsync
   36   271 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   68     0 [  5]           sqldk!SOS_RWLock::ReleaseLock
   61     0 [  6]             sqldk!EventInternal<SuspendQueueSLock>::Signal
   76    61 [  5]           sqldk!SOS_RWLock::ReleaseLock
   43   408 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   22     0 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   32     0 [  6]             sqllang!EventInternal<SuspendQueueSLock>::SignalAll
   26    32 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   60     0 [  6]             sqllang!CSQLSatelliteConnection::FreePackets
   32    92 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   10     0 [  6]             sqllang!RefCountImpl<CSQLSatelliteConnection>::Release
   38   102 [  5]           sqllang!CSQLSatelliteConnection::WriteCallBack
   53   548 [  4]         sqllang!CSQLSatelliteConnection::WriteMessage
   85   958 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
   10     0 [  4]         sqllang!CSQLSatelliteConnection::WaitWriteDone
   97   968 [  3]       sqllang!CSQLSatelliteCommunication::SendAckMessage
  239  2491 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    8     0 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
   10     0 [  4]         sqllang!CSQLSatelliteMessageArgument::~CSQLSatelliteMessageArgument
   52    10 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
  243  2553 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!_security_check_cookie
  253  2559 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   92  2873 [  1]   sqllang!CServerCargoContext::ReadOneRow
    6     0 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   27     0 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  5]           sqllang!_security_check_cookie
   17     6 [  4]         sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  4]         sqllang!CSatelliteHub::LocateSatellite
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   46     2 [  4]         sqllang!CSatelliteHub::LocateSatellite
    9     0 [  5]           sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  4]         sqllang!CSatelliteHub::LocateSatellite
   60   105 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  4]         sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  4]         sqllang!_security_check_cookie
   75   123 [  3]       sqllang!CSQLSatelliteMessage::BindBufferForRead
   17   198 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
   63     0 [  3]       sqllang!CSQLSatelliteMessageDataChunk::ReadPayloadHeader
   25   261 [  2]     sqllang!CSQLSatelliteMessageDataChunk::BindBufferForRead
  111  3159 [  1]   sqllang!CServerCargoContext::ReadOneRow
   54     0 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   21     0 [  3]       sqllang!SQLDataReaderTargetRow::TargetBufferPtr
   83    21 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
   18     0 [  3]       MSVCR120!memcpy_s
    9     0 [  4]         MSVCR120!memcpy
    4     0 [  4]         MSVCR120!MoveSmall
   26    13 [  3]       MSVCR120!memcpy_s
  126    60 [  2]     sqllang!CSQLSatelliteMessageDataChunk::ReadData
  127  3345 [  1]   sqllang!CServerCargoContext::ReadOneRow
   14     0 [  2]     sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  3]       sqllang!_security_check_cookie
   17     6 [  2]     sqllang!CSQLSatelliteMessage::FireXEvent
  133  3368 [  1]   sqllang!CServerCargoContext::ReadOneRow
   16     0 [  2]     sqllang!MessageTelemetry::Record
  146  3384 [  1]   sqllang!CServerCargoContext::ReadOneRow
   50     0 [  2]     sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  3]       sqllang!SNIMemRegion::Push
    2     0 [  4]         sqldk!SystemThread::GetCurrentId
   38     2 [  3]       sqllang!SNIMemRegion::Push
   60    40 [  2]     sqllang!CSQLSatelliteConnection::FreePackets
  194  3484 [  1]   sqllang!CServerCargoContext::ReadOneRow
   25  3678 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    1     0 [  1]   KERNEL32!TlsGetValueStub
    7     0 [  1]   KERNEL32!TlsGetValue
   37  3686 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    8     0 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   26     0 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::CCols
   30     2 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CColMetaData::RgCommonMD
   34     4 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::FStartedTokenStream
   40     6 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::SetStartedTokenStream
   44     8 [  2]     sqllang!CTds74::SendRowImpl
    9     0 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
    1     0 [  4]         KERNEL32!TlsGetValueStub
    7     0 [  4]         KERNEL32!TlsGetValue
   25     8 [  3]       sqllang!Worker::TaskAutoOnFlags::TaskAutoOnFlags
   48    41 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   52    44 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   57    47 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
   77    49 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CXVariantBase::FIsNull
   82    52 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CXVariant::PbShallowBufPtr
   88    54 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
   92    57 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
   97    60 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  100    62 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::DwGetOutputSpaceLeft
  104    65 [  2]     sqllang!CTds74::SendRowImpl
    3     0 [  3]       sqllang!CNetConnection::PbGetOutputCurPtr
  110    68 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!CNetConnection::IncOutputPktLen
  118    70 [  2]     sqllang!CTds74::SendRowImpl
    2     0 [  3]       sqllang!`anonymous namespace'::MarkEndOfTokenStream
  122    72 [  2]     sqllang!CTds74::SendRowImpl
    5     0 [  3]       sqllang!Worker::TaskAutoOnFlags::~TaskAutoOnFlags
  125    77 [  2]     sqllang!CTds74::SendRowImpl
    6     0 [  3]       sqllang!_security_check_cookie
  135    83 [  2]     sqllang!CTds74::SendRowImpl
   12   218 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
    1     0 [  2]     KERNEL32!TlsGetValueStub
    7     0 [  2]     KERNEL32!TlsGetValue
   21   226 [  1]   sqllang!CUDXR_ExternalScript::OutputRow
   45  3933 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows


Tracing sqllang!CUDXR_ExternalScript::ProcessResultRows to return address 00007ffa`61e9b874
   11     0 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
   38     0 [  1]   sqllang!CServerCargoContext::ReadOneRow
   40     0 [  2]     sqldk!CMemProc::Alloc
   51    40 [  1]   sqllang!CServerCargoContext::ReadOneRow
   19     0 [  2]     sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   72    59 [  1]   sqllang!CServerCargoContext::ReadOneRow
   28     0 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  150     0 [  3]       sqllang!CSQLSatelliteCommunication::CSQLSatelliteCommunication
   36   150 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   49     0 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   68    40 [  3]       sqllang!CSQLSatelliteCommunication::Init
   40     0 [  4]         sqldk!CMemProc::Alloc
   99    80 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  107    96 [  3]       sqllang!CSQLSatelliteCommunication::Init
    1     0 [  4]         sqllang!memcpy
   51     0 [  4]         MSVCR120!memcpy
  118   148 [  3]       sqllang!CSQLSatelliteCommunication::Init
   19     0 [  4]         sqllang!GetTypeSizeInBytes
  138   167 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<CSQLSatelliteMessageDataChunk>::operator=
  143   183 [  3]       sqllang!CSQLSatelliteCommunication::Init
   16     0 [  4]         sqllang!CAutoRg<_SQLSatellite_ColumnSchema>::operator=
  153   199 [  3]       sqllang!CSQLSatelliteCommunication::Init
    6     0 [  4]         sqllang!_security_check_cookie
  163   205 [  3]       sqllang!CSQLSatelliteCommunication::Init
   45   518 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   40     0 [  3]       sqllang!CSQL_RowChunk::FreePackets
   53   558 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   10     0 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   14     0 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   53     2 [  4]         sqllang!CSQLSatelliteConnection::RetrieveMessage
   19    55 [  3]       sqllang!CSQLSatelliteConnection::GetNextMessage
   70   632 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    7     0 [  3]       sqllang!CSQLSatelliteCommunication::GetSQLSatelliteMessage
   77   639 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    4     0 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
   27     0 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   14     0 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  6]             sqllang!_security_check_cookie
   17     6 [  5]           sqllang!CSQLSatelliteMessage::FireXEvent
   52    23 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   28     0 [  5]           sqllang!CSatelliteHub::LocateSatellite
    2     0 [  6]             sqldk!SystemThread::GetCurrentId
   46     2 [  5]           sqllang!CSatelliteHub::LocateSatellite
    9     0 [  6]             sqllang!CSatelliteHub::~CSatelliteHub
   71    11 [  5]           sqllang!CSatelliteHub::LocateSatellite
   60   105 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   12     0 [  5]           sqllang!CAutoRefc<CSatelliteProxy>::~CAutoRefc<CSatelliteProxy>
   70   117 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
    6     0 [  5]           sqllang!_security_check_cookie
   75   123 [  4]         sqllang!CSQLSatelliteMessage::BindBufferForRead
   32   198 [  3]       sqllang!CSQLSatelliteMessageChunkEnd::BindBufferForRead
  117   869 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   14     0 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
    6     0 [  4]         sqllang!_security_check_cookie
   17     6 [  3]       sqllang!CSQLSatelliteMessage::FireXEvent
  123   892 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   16     0 [  3]       sqllang!MessageTelemetry::Record
  131   908 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
   50     0 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
   11     0 [  4]         sqllang!SNIMemRegion::Push
    2     0 [  5]           sqldk!SystemThread::GetCurrentId
   38     2 [  4]         sqllang!SNIMemRegion::Push
   60    40 [  3]       sqllang!CSQLSatelliteConnection::FreePackets
  142  1008 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    8     0 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
   10     0 [  4]         sqllang!CSQLSatelliteMessageArgument::~CSQLSatelliteMessageArgument
   52    10 [  3]       sqllang!CSQLSatelliteCommunication::~CSQLSatelliteCommunication
  146  1070 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
    6     0 [  3]       sqllang!_security_check_cookie
  156  1076 [  2]     sqllang!CServerCargoContext::ReceiveOneDataChunk
  111  1291 [  1]   sqllang!CServerCargoContext::ReadOneRow
   22  1402 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
    7     0 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
    1     0 [  2]     KERNEL32!TlsGetValueStub
    7     0 [  2]     KERNEL32!TlsGetValue
   21     8 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
   48     0 [  2]     sqllang!CTdsConn<0>::EndResultSetImpl
   21     0 [  3]       sqllang!SendDoneWarnings
   52    21 [  2]     sqllang!CTdsConn<0>::EndResultSetImpl
   25    81 [  1]   sqllang!CUDXR_ExternalScript::EndOutput
   27  1508 [  0] sqllang!CUDXR_ExternalScript::ProcessResultRows
